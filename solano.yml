ruby_version: ruby-2.3.1
bundler_version: "1.12.2"

test_pattern:
  - spec/controllers/*_spec.rb
  - spec/models/*_spec.rb
  - spec/**/*_spec.rb

rake:
  rails_env: test

postgresql:
  version: '9.3'

firefox: '31.0esr'

hooks:
  post_worker: |
    set -e
    cp tmp/capybara/screenshot_edit\ and\ save\ \ valid\ task.png $HOME/results/$TDDIUM_SESSION_ID/session/
    touch with\ one-space.txt
    touch with two  spaces.txt
    touch without-spaces.txt
#  package_setup: |
#    set -e
#    date > $HOME/package_install.txt
#    printenv
#    # rbenv install -l > debug.txt
#    # rbenv versions > debug.txt
#    # ruby -v > debug.txt
#    # pwd > debug.txt
#    cd $HOME
#    rbenv local 2.3.0
#    # rbenv rehash# permission denied
#    cd $TDDIUM_REPO_ROOT
#    gem install bundler
#    echo $ENV > debug.txt
#    bundle install
#    bin/rake db:migrate RAILS_ENV=test
collect:
  repo:
    - "without-spaces.txt"
    - "with one-space.txt"
    - "with two  spaces.txt"

#profiles:
#  a:
#    test_pattern:
#      - spec/controllers/*_spec.rb
#  b:
#    test_pattern:
#      - spec/models/*_spec.rb
#plan:
#  - a
#  - b
  
